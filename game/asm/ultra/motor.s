.include "macros.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purpose registers

.section .bss
glabel D_8009EE80
    .space 256


.section .text

.align 4

# Likely start of new file
glabel __osMotorAccess
  /* 032250 80031650 27BDFFD0 */     addiu $sp, $sp, -0x30
  /* 032254 80031654 AFBF001C */        sw $ra, 0x1c($sp)
  /* 032258 80031658 AFB00018 */        sw $s0, 0x18($sp)
  /* 03225C 8003165C 8C8E0008 */        lw $t6, 8($a0)
  /* 032260 80031660 8C990000 */        lw $t9, ($a0)
  /* 032264 80031664 3C18800A */       lui $t8, %hi(D_8009EE80)
  /* 032268 80031668 2718EE80 */     addiu $t8, $t8, %lo(D_8009EE80)
  /* 03226C 8003166C 000E7980 */       sll $t7, $t6, 6
  /* 032270 80031670 33290008 */      andi $t1, $t9, 8
  /* 032274 80031674 00808025 */        or $s0, $a0, $zero
  /* 032278 80031678 00A03825 */        or $a3, $a1, $zero
  /* 03227C 8003167C 15200003 */      bnez $t1, .L8003168C
  /* 032280 80031680 01F84021 */      addu $t0, $t7, $t8
  /* 032284 80031684 10000047 */         b .L800317A4
  /* 032288 80031688 24020005 */     addiu $v0, $zero, 5
  .L8003168C:
  /* 03228C 8003168C AFA70034 */        sw $a3, 0x34($sp)
  /* 032290 80031690 0C00C69C */       jal __osSiGetAccess
  /* 032294 80031694 AFA80024 */        sw $t0, 0x24($sp)
  /* 032298 80031698 8E0B0008 */        lw $t3, 8($s0)
  /* 03229C 8003169C 3C06800A */       lui $a2, %hi(D_8009EE80)
  /* 0322A0 800316A0 24C6EE80 */     addiu $a2, $a2, %lo(D_8009EE80)
  /* 0322A4 800316A4 000B6180 */       sll $t4, $t3, 6
  /* 0322A8 800316A8 00CC6821 */      addu $t5, $a2, $t4
  /* 0322AC 800316AC 240A0001 */     addiu $t2, $zero, 1
  /* 0322B0 800316B0 ADAA003C */        sw $t2, 0x3c($t5)
  /* 0322B4 800316B4 8FA80024 */        lw $t0, 0x24($sp)
  /* 0322B8 800316B8 8E0E0008 */        lw $t6, 8($s0)
  /* 0322BC 800316BC 8FA70034 */        lw $a3, 0x34($sp)
  /* 0322C0 800316C0 00001825 */        or $v1, $zero, $zero
  /* 0322C4 800316C4 010E4021 */      addu $t0, $t0, $t6
  /* 0322C8 800316C8 01001025 */        or $v0, $t0, $zero
  /* 0322CC 800316CC 24040020 */     addiu $a0, $zero, 0x20
  .L800316D0:
  /* 0322D0 800316D0 24630004 */     addiu $v1, $v1, 4
  /* 0322D4 800316D4 A0470007 */        sb $a3, 7($v0)
  /* 0322D8 800316D8 A0470008 */        sb $a3, 8($v0)
  /* 0322DC 800316DC A0470009 */        sb $a3, 9($v0)
  /* 0322E0 800316E0 24420004 */     addiu $v0, $v0, 4
  /* 0322E4 800316E4 1464FFFA */       bne $v1, $a0, .L800316D0
  /* 0322E8 800316E8 A0470002 */        sb $a3, 2($v0)
  /* 0322EC 800316EC 240F00FE */     addiu $t7, $zero, 0xfe
  /* 0322F0 800316F0 3C01800A */       lui $at, %hi(__osContLastCmd)
  /* 0322F4 800316F4 A02FEFE0 */        sb $t7, %lo(__osContLastCmd)($at)
  /* 0322F8 800316F8 8E180008 */        lw $t8, 8($s0)
  /* 0322FC 800316FC AFA80024 */        sw $t0, 0x24($sp)
  /* 032300 80031700 AFA70034 */        sw $a3, 0x34($sp)
  /* 032304 80031704 0018C980 */       sll $t9, $t8, 6
  /* 032308 80031708 00D92821 */      addu $a1, $a2, $t9
  /* 03230C 8003170C 0C00C9D8 */       jal __osSiRawStartDma
  /* 032310 80031710 24040001 */     addiu $a0, $zero, 1
  /* 032314 80031714 8E040004 */        lw $a0, 4($s0)
  /* 032318 80031718 00002825 */        or $a1, $zero, $zero
  /* 03231C 8003171C 0C00C084 */       jal osRecvMesg
  /* 032320 80031720 24060001 */     addiu $a2, $zero, 1
  /* 032324 80031724 8E090008 */        lw $t1, 8($s0)
  /* 032328 80031728 3C0C800A */       lui $t4, %hi(D_8009EE80)
  /* 03232C 8003172C 258CEE80 */     addiu $t4, $t4, %lo(D_8009EE80)
  /* 032330 80031730 00095980 */       sll $t3, $t1, 6
  /* 032334 80031734 016C2821 */      addu $a1, $t3, $t4
  /* 032338 80031738 0C00C9D8 */       jal __osSiRawStartDma
  /* 03233C 8003173C 00002025 */        or $a0, $zero, $zero
  /* 032340 80031740 8E040004 */        lw $a0, 4($s0)
  /* 032344 80031744 00002825 */        or $a1, $zero, $zero
  /* 032348 80031748 0C00C084 */       jal osRecvMesg
  /* 03234C 8003174C 24060001 */     addiu $a2, $zero, 1
  /* 032350 80031750 8FA80024 */        lw $t0, 0x24($sp)
  /* 032354 80031754 8FA70034 */        lw $a3, 0x34($sp)
  /* 032358 80031758 91100002 */       lbu $s0, 2($t0)
  /* 03235C 8003175C 320A00C0 */      andi $t2, $s0, 0xc0
  /* 032360 80031760 1540000D */      bnez $t2, .L80031798
  /* 032364 80031764 01408025 */        or $s0, $t2, $zero
  /* 032368 80031768 54E00007 */      bnel $a3, $zero, .L80031788
  /* 03236C 8003176C 910E0026 */       lbu $t6, 0x26($t0)
  /* 032370 80031770 910D0026 */       lbu $t5, 0x26($t0)
  /* 032374 80031774 11A00008 */      beqz $t5, .L80031798
  /* 032378 80031778 00000000 */       nop 
  /* 03237C 8003177C 10000006 */         b .L80031798
  /* 032380 80031780 24100004 */     addiu $s0, $zero, 4
  /* 032384 80031784 910E0026 */       lbu $t6, 0x26($t0)
  .L80031788:
  /* 032388 80031788 240100EB */     addiu $at, $zero, 0xeb
  /* 03238C 8003178C 11C10002 */       beq $t6, $at, .L80031798
  /* 032390 80031790 00000000 */       nop 
  /* 032394 80031794 24100004 */     addiu $s0, $zero, 4
  .L80031798:
  /* 032398 80031798 0C00C6AD */       jal __osSiRelAccess
  /* 03239C 8003179C 00000000 */       nop 
  /* 0323A0 800317A0 02001025 */        or $v0, $s0, $zero
  .L800317A4:
  /* 0323A4 800317A4 8FBF001C */        lw $ra, 0x1c($sp)
  /* 0323A8 800317A8 8FB00018 */        lw $s0, 0x18($sp)
  /* 0323AC 800317AC 27BD0030 */     addiu $sp, $sp, 0x30
  /* 0323B0 800317B0 03E00008 */        jr $ra
  /* 0323B4 800317B4 00000000 */       nop 

glabel func_800317B8
  /* 0323B8 800317B8 27BDFFB0 */     addiu $sp, $sp, -0x50
  /* 0323BC 800317BC AFBF0014 */        sw $ra, 0x14($sp)
  /* 0323C0 800317C0 00803025 */        or $a2, $a0, $zero
  /* 0323C4 800317C4 240E00FF */     addiu $t6, $zero, 0xff
  /* 0323C8 800317C8 240F0023 */     addiu $t7, $zero, 0x23
  /* 0323CC 800317CC 24180001 */     addiu $t8, $zero, 1
  /* 0323D0 800317D0 24190003 */     addiu $t9, $zero, 3
  /* 0323D4 800317D4 240800C0 */     addiu $t0, $zero, 0xc0
  /* 0323D8 800317D8 A3AE0024 */        sb $t6, 0x24($sp)
  /* 0323DC 800317DC A3AF0025 */        sb $t7, 0x25($sp)
  /* 0323E0 800317E0 A3B80026 */        sb $t8, 0x26($sp)
  /* 0323E4 800317E4 A3B90027 */        sb $t9, 0x27($sp)
  /* 0323E8 800317E8 A3A80028 */        sb $t0, 0x28($sp)
  /* 0323EC 800317EC AFA60050 */        sw $a2, 0x50($sp)
  /* 0323F0 800317F0 24040600 */     addiu $a0, $zero, 0x600
  /* 0323F4 800317F4 0C00DDC0 */       jal __osContAddressCrc
  /* 0323F8 800317F8 AFA5004C */        sw $a1, 0x4c($sp)
  /* 0323FC 800317FC 8FA60050 */        lw $a2, 0x50($sp)
  /* 032400 80031800 3449C000 */       ori $t1, $v0, 0xc000
  /* 032404 80031804 A3A90029 */        sb $t1, 0x29($sp)
  /* 032408 80031808 10C00012 */      beqz $a2, .L80031854
  /* 03240C 8003180C 8FA3004C */        lw $v1, 0x4c($sp)
  /* 032410 80031810 18C00010 */      blez $a2, .L80031854
  /* 032414 80031814 00001025 */        or $v0, $zero, $zero
  /* 032418 80031818 30C50003 */      andi $a1, $a2, 3
  /* 03241C 8003181C 10A00006 */      beqz $a1, .L80031838
  /* 032420 80031820 00A02025 */        or $a0, $a1, $zero
  .L80031824:
  /* 032424 80031824 24420001 */     addiu $v0, $v0, 1
  /* 032428 80031828 A0600000 */        sb $zero, ($v1)
  /* 03242C 8003182C 1482FFFD */       bne $a0, $v0, .L80031824
  /* 032430 80031830 24630001 */     addiu $v1, $v1, 1
  /* 032434 80031834 10460007 */       beq $v0, $a2, .L80031854
  .L80031838:
  /* 032438 80031838 24420004 */     addiu $v0, $v0, 4
  /* 03243C 8003183C A0600001 */        sb $zero, 1($v1)
  /* 032440 80031840 A0600002 */        sb $zero, 2($v1)
  /* 032444 80031844 A0600003 */        sb $zero, 3($v1)
  /* 032448 80031848 24630004 */     addiu $v1, $v1, 4
  /* 03244C 8003184C 1446FFFA */       bne $v0, $a2, .L80031838
  /* 032450 80031850 A060FFFC */        sb $zero, -4($v1)
  .L80031854:
  /* 032454 80031854 27AA0024 */     addiu $t2, $sp, 0x24
  /* 032458 80031858 254C0024 */     addiu $t4, $t2, 0x24
  /* 03245C 8003185C 00606825 */        or $t5, $v1, $zero
  .L80031860:
  /* 032460 80031860 8D410000 */        lw $at, ($t2)
  /* 032464 80031864 254A000C */     addiu $t2, $t2, 0xc
  /* 032468 80031868 25AD000C */     addiu $t5, $t5, 0xc
  /* 03246C 8003186C A9A1FFF4 */       swl $at, -0xc($t5)
  /* 032470 80031870 B9A1FFF7 */       swr $at, -9($t5)
  /* 032474 80031874 8D41FFF8 */        lw $at, -8($t2)
  /* 032478 80031878 A9A1FFF8 */       swl $at, -8($t5)
  /* 03247C 8003187C B9A1FFFB */       swr $at, -5($t5)
  /* 032480 80031880 8D41FFFC */        lw $at, -4($t2)
  /* 032484 80031884 A9A1FFFC */       swl $at, -4($t5)
  /* 032488 80031888 154CFFF5 */       bne $t2, $t4, .L80031860
  /* 03248C 8003188C B9A1FFFF */       swr $at, -1($t5)
  /* 032490 80031890 91410000 */       lbu $at, ($t2)
  /* 032494 80031894 240E00FE */     addiu $t6, $zero, 0xfe
  /* 032498 80031898 24630027 */     addiu $v1, $v1, 0x27
  /* 03249C 8003189C A1A10000 */        sb $at, ($t5)
  /* 0324A0 800318A0 914C0001 */       lbu $t4, 1($t2)
  /* 0324A4 800318A4 A1AC0001 */        sb $t4, 1($t5)
  /* 0324A8 800318A8 91410002 */       lbu $at, 2($t2)
  /* 0324AC 800318AC A1A10002 */        sb $at, 2($t5)
  /* 0324B0 800318B0 A06E0000 */        sb $t6, ($v1)
  /* 0324B4 800318B4 8FBF0014 */        lw $ra, 0x14($sp)
  /* 0324B8 800318B8 27BD0050 */     addiu $sp, $sp, 0x50
  /* 0324BC 800318BC 03E00008 */        jr $ra
  /* 0324C0 800318C0 00000000 */       nop 

glabel osMotorInit
  /* 0324C4 800318C4 27BDFFB8 */     addiu $sp, $sp, -0x48
  /* 0324C8 800318C8 AFBF001C */        sw $ra, 0x1c($sp)
  /* 0324CC 800318CC AFB00018 */        sw $s0, 0x18($sp)
  /* 0324D0 800318D0 AFA40048 */        sw $a0, 0x48($sp)
  /* 0324D4 800318D4 AFA60050 */        sw $a2, 0x50($sp)
  /* 0324D8 800318D8 ACA40004 */        sw $a0, 4($a1)
  /* 0324DC 800318DC 8FAF0050 */        lw $t7, 0x50($sp)
  /* 0324E0 800318E0 241800FF */     addiu $t8, $zero, 0xff
  /* 0324E4 800318E4 00A08025 */        or $s0, $a1, $zero
  /* 0324E8 800318E8 A0B80065 */        sb $t8, 0x65($a1)
  /* 0324EC 800318EC ACA00000 */        sw $zero, ($a1)
  /* 0324F0 800318F0 00A02025 */        or $a0, $a1, $zero
  /* 0324F4 800318F4 ACAF0008 */        sw $t7, 8($a1)
  /* 0324F8 800318F8 0C00D830 */       jal __osPfsSelectBank
  /* 0324FC 800318FC 240500FE */     addiu $a1, $zero, 0xfe
  /* 032500 80031900 24010002 */     addiu $at, $zero, 2
  /* 032504 80031904 14410005 */       bne $v0, $at, .L8003191C
  /* 032508 80031908 00401825 */        or $v1, $v0, $zero
  /* 03250C 8003190C 02002025 */        or $a0, $s0, $zero
  /* 032510 80031910 0C00D830 */       jal __osPfsSelectBank
  /* 032514 80031914 24050080 */     addiu $a1, $zero, 0x80
  /* 032518 80031918 00401825 */        or $v1, $v0, $zero
  .L8003191C:
  /* 03251C 8003191C 10400003 */      beqz $v0, .L8003192C
  /* 032520 80031920 8FA40048 */        lw $a0, 0x48($sp)
  /* 032524 80031924 10000039 */         b .L80031A0C
  /* 032528 80031928 00601025 */        or $v0, $v1, $zero
  .L8003192C:
  /* 03252C 8003192C 8FA50050 */        lw $a1, 0x50($sp)
  /* 032530 80031930 24060400 */     addiu $a2, $zero, 0x400
  /* 032534 80031934 0C00DD34 */       jal __osContRamRead
  /* 032538 80031938 27A70024 */     addiu $a3, $sp, 0x24
  /* 03253C 8003193C 24010002 */     addiu $at, $zero, 2
  /* 032540 80031940 14410002 */       bne $v0, $at, .L8003194C
  /* 032544 80031944 00401825 */        or $v1, $v0, $zero
  /* 032548 80031948 24030004 */     addiu $v1, $zero, 4
  .L8003194C:
  /* 03254C 8003194C 10600003 */      beqz $v1, .L8003195C
  /* 032550 80031950 93B90043 */       lbu $t9, 0x43($sp)
  /* 032554 80031954 1000002D */         b .L80031A0C
  /* 032558 80031958 00601025 */        or $v0, $v1, $zero
  .L8003195C:
  /* 03255C 8003195C 240100FE */     addiu $at, $zero, 0xfe
  /* 032560 80031960 17210003 */       bne $t9, $at, .L80031970
  /* 032564 80031964 02002025 */        or $a0, $s0, $zero
  /* 032568 80031968 10000028 */         b .L80031A0C
  /* 03256C 8003196C 2402000B */     addiu $v0, $zero, 0xb
  .L80031970:
  /* 032570 80031970 0C00D830 */       jal __osPfsSelectBank
  /* 032574 80031974 24050080 */     addiu $a1, $zero, 0x80
  /* 032578 80031978 24010002 */     addiu $at, $zero, 2
  /* 03257C 8003197C 14410002 */       bne $v0, $at, .L80031988
  /* 032580 80031980 00401825 */        or $v1, $v0, $zero
  /* 032584 80031984 24030004 */     addiu $v1, $zero, 4
  .L80031988:
  /* 032588 80031988 10600003 */      beqz $v1, .L80031998
  /* 03258C 8003198C 8FA40048 */        lw $a0, 0x48($sp)
  /* 032590 80031990 1000001E */         b .L80031A0C
  /* 032594 80031994 00601025 */        or $v0, $v1, $zero
  .L80031998:
  /* 032598 80031998 8FA50050 */        lw $a1, 0x50($sp)
  /* 03259C 8003199C 24060400 */     addiu $a2, $zero, 0x400
  /* 0325A0 800319A0 0C00DD34 */       jal __osContRamRead
  /* 0325A4 800319A4 27A70024 */     addiu $a3, $sp, 0x24
  /* 0325A8 800319A8 24010002 */     addiu $at, $zero, 2
  /* 0325AC 800319AC 14410002 */       bne $v0, $at, .L800319B8
  /* 0325B0 800319B0 00401825 */        or $v1, $v0, $zero
  /* 0325B4 800319B4 24030004 */     addiu $v1, $zero, 4
  .L800319B8:
  /* 0325B8 800319B8 10600003 */      beqz $v1, .L800319C8
  /* 0325BC 800319BC 93A80043 */       lbu $t0, 0x43($sp)
  /* 0325C0 800319C0 10000012 */         b .L80031A0C
  /* 0325C4 800319C4 00601025 */        or $v0, $v1, $zero
  .L800319C8:
  /* 0325C8 800319C8 24010080 */     addiu $at, $zero, 0x80
  /* 0325CC 800319CC 51010004 */      beql $t0, $at, .L800319E0
  /* 0325D0 800319D0 8E090000 */        lw $t1, ($s0)
  /* 0325D4 800319D4 1000000D */         b .L80031A0C
  /* 0325D8 800319D8 2402000B */     addiu $v0, $zero, 0xb
  /* 0325DC 800319DC 8E090000 */        lw $t1, ($s0)
  .L800319E0:
  /* 0325E0 800319E0 8FA40050 */        lw $a0, 0x50($sp)
  /* 0325E4 800319E4 3C0D800A */       lui $t5, %hi(D_8009EE80)
  /* 0325E8 800319E8 312A0008 */      andi $t2, $t1, 8
  /* 0325EC 800319EC 15400004 */      bnez $t2, .L80031A00
  /* 0325F0 800319F0 00046180 */       sll $t4, $a0, 6
  /* 0325F4 800319F4 25ADEE80 */     addiu $t5, $t5, %lo(D_8009EE80)
  /* 0325F8 800319F8 0C00C5EE */       jal func_800317B8
  /* 0325FC 800319FC 018D2821 */      addu $a1, $t4, $t5
  .L80031A00:
  /* 032600 80031A00 240E0008 */     addiu $t6, $zero, 8
  /* 032604 80031A04 AE0E0000 */        sw $t6, ($s0)
  /* 032608 80031A08 00001025 */        or $v0, $zero, $zero
  .L80031A0C:
  /* 03260C 80031A0C 8FBF001C */        lw $ra, 0x1c($sp)
  /* 032610 80031A10 8FB00018 */        lw $s0, 0x18($sp)
  /* 032614 80031A14 27BD0048 */     addiu $sp, $sp, 0x48
  /* 032618 80031A18 03E00008 */        jr $ra
  /* 03261C 80031A1C 00000000 */       nop 
